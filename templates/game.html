{% extends "template.html" %}

{% block title %} Game {% endblock %}

{% block body %} 
  <!-- Used ChatGPT for this -->
  <div id="timer"></div>
  <button id="startButton" onclick="startTimer()">Start</button>
  

  <script>
    let timerInterval;
    let timeRemaining = 180; // 3 minutes in seconds (3 * 60)

    function startTimer() {
      const timerDisplay = document.getElementById('timer');
      const startButton = document.getElementById('startButton');

      // Disable the button after it is clicked
      startButton.disabled = true;

      timerInterval = setInterval(function() {
        if (timeRemaining <= 0) {
          clearInterval(timerInterval);
          timerDisplay.innerText = "Time's up!";
          startButton.disabled = false; // Re-enable the button when timer is done
        } else {
          const minutes = Math.floor(timeRemaining / 60);
          const seconds = timeRemaining % 60;
          timerDisplay.innerText = `${pad(minutes)}:${pad(seconds)}`;
          timeRemaining--;
        }
      }, 1000);
    }

    function pad(number) {
      return number < 10 ? '0' + number : number;
    }
  </script>
{% endblock %}