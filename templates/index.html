<!DOCTYPE html>

<html lang="en">

    <head>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <link href="/static/styles.css" rel="stylesheet">
        <title>Catch 'Em All</title>

    </head>
    

    <body>
      <form action="/start" method="post">
        <button > QR code</button>
        <div id="timer"></div>
        <button id="startButton" onclick="startTimer()">Start</button>
      
        <h1>Your Scanned Items: {{ result }}</h1>
      </form>
  

      <script>
        let timerInterval;
        let timeRemaining = 30; // 3 minutes in seconds (3 * 60)

        function startTimer() {
          const timerDisplay = document.getElementById('timer');
          const startButton = document.getElementById('startButton');

          // Disable the button after it is clicked
          startButton.disabled = true;

          timerInterval = setInterval(function() {
            if (timeRemaining <= 0) {
              clearInterval(timerInterval);
              timerDisplay.innerText = "Time's up!";
              startButton.disabled = false; // Re-enable the button when timer is done
            } else {
              const minutes = Math.floor(timeRemaining / 60);
              const seconds = timeRemaining % 60;
              timerDisplay.innerText = `${pad(minutes)}:${pad(seconds)}`;
              timeRemaining--;
            }
          }, 1000);
        }

        function pad(number) {
          return number < 10 ? '0' + number : number;
        }
      </script>
    </body>

</html>